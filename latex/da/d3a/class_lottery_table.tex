\doxysection{Lottery\+Table クラス}
\hypertarget{class_lottery_table}{}\label{class_lottery_table}\index{LotteryTable@{LotteryTable}}


敵の攻撃抽選処理（伊波）  




Lottery\+Table の継承関係図\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{d6/d58/class_lottery_table__inherit__graph}
\end{center}
\end{figure}


Lottery\+Table 連携図
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{da/d38/class_lottery_table__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
override void \mbox{\hyperlink{class_lottery_table_a66f2e1a5356c1c23159869500ec40b67}{On\+Calculate}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{フィールド}
\begin{DoxyCompactItemize}
\item 
Flexible\+Transform \mbox{\hyperlink{class_lottery_table_ab10e56a6af8592a6bc79121e18f41e43}{\+\_\+target\+Trans}} = new()
\item 
\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}} \mbox{\hyperlink{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}{\+\_\+first\+Attack\+Data}} = new()
\item 
\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}} \mbox{\hyperlink{class_lottery_table_a372ece3876a387d49b1a9dd6d7fb6747}{\+\_\+second\+Attack\+Data}} = new()
\end{DoxyCompactItemize}
\doxysubsubsection*{非公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8}{Lottery\+Attack}} (\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}} use\+Data)
\end{DoxyCompactItemize}
\doxysubsubsection*{非公開変数類}
\begin{DoxyCompactItemize}
\item 
Output\+Slot\+Int \mbox{\hyperlink{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4}{\+\_\+\+Output}} = new()
\item 
\mbox{\hyperlink{class_output_slot_attack_data}{Output\+Slot\+Attack\+Data}} \mbox{\hyperlink{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784}{\+\_\+\+Use\+Attack\+Data}} = new()
\item 
\mbox{\hyperlink{class_character_core}{Character\+Core}} \mbox{\hyperlink{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}{\+\_\+character\+Core}}
\end{DoxyCompactItemize}


\doxysubsection{詳解}
敵の攻撃抽選処理（伊波） 

Arborの\+Cakculatorで抽選を行う　結果はint型で返す 

 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00017}{17}} 行目に定義があります。



\doxysubsection{メソッド詳解}
\Hypertarget{class_lottery_table_a66f2e1a5356c1c23159869500ec40b67}\index{LotteryTable@{LotteryTable}!OnCalculate@{OnCalculate}}
\index{OnCalculate@{OnCalculate}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{OnCalculate()}{OnCalculate()}}
{\footnotesize\ttfamily \label{class_lottery_table_a66f2e1a5356c1c23159869500ec40b67} 
override void Lottery\+Table.\+On\+Calculate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00028}{28}} 行目に定義があります。


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_lottery_table_ab10e56a6af8592a6bc79121e18f41e43}{\_targetTrans}}.value\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4}{\_Output}}.SetValue(1);}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784}{\_UseAttackData}}.SetValue(\mbox{\hyperlink{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}{\_firstAttackData}}.value);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_lottery_table_a372ece3876a387d49b1a9dd6d7fb6747}{\_secondAttackData}}.value\ ==\ \textcolor{keyword}{null})}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8}{LotteryAttack}}(\mbox{\hyperlink{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}{\_firstAttackData}});}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}{\_characterCore}})}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!transform.root.TryGetComponent(out\ \mbox{\hyperlink{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}{\_characterCore}}))}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4}{\_Output}}.SetValue(1);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784}{\_UseAttackData}}.SetValue(\mbox{\hyperlink{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}{\_firstAttackData}}.value);}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}{\_characterCore}}.\mbox{\hyperlink{class_character_core_aa4fbd2c5ca05a49e198309470c4730d4}{Status}}.\mbox{\hyperlink{struct_character_core_1_1_charatcer_status_a1e09217558dc93616afb4661d2242309}{m\_hp}}.Value\ /\ \mbox{\hyperlink{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}{\_characterCore}}.\mbox{\hyperlink{class_character_core_aa4fbd2c5ca05a49e198309470c4730d4}{Status}}.\mbox{\hyperlink{struct_character_core_1_1_charatcer_status_a28cb5f6b2acfa2b95ab7a49e55c68a2a}{MaxHP}}\ >=\ 0.5f)}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8}{LotteryAttack}}(\mbox{\hyperlink{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}{\_firstAttackData}});}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8}{LotteryAttack}}(\mbox{\hyperlink{class_lottery_table_a372ece3876a387d49b1a9dd6d7fb6747}{\_secondAttackData}});}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \}}

\end{DoxyCode}
呼び出し関係図\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d3a/class_lottery_table_a66f2e1a5356c1c23159869500ec40b67_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8}\index{LotteryTable@{LotteryTable}!LotteryAttack@{LotteryAttack}}
\index{LotteryAttack@{LotteryAttack}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{LotteryAttack()}{LotteryAttack()}}
{\footnotesize\ttfamily \label{class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8} 
void Lottery\+Table.\+Lottery\+Attack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}}}]{use\+Data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00065}{65}} 行目に定義があります。


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784}{\_UseAttackData}}.SetValue(useData.value);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sumWeight\ =\ 0;}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ weight;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ distAttackPoint;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ toTargetDist\ =\ Vector3.Distance(transform.position,\ \mbox{\hyperlink{class_lottery_table_ab10e56a6af8592a6bc79121e18f41e43}{\_targetTrans}}.value.position);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 各攻撃の抽選値を決定}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ attackData\ \textcolor{keywordflow}{in}\ useData.value.LotteryData.value)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ distAttackPoint\ =\ Mathf.Abs(toTargetDist\ -\/\ attackData.m\_bestAttackDist.value);}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ distAttackPoint\ =\ Mathf.Clamp(distAttackPoint,\ 0.5f,\ 2.0f);}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ weight\ =\ attackData.m\_defaultWeight.value}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ +\ attackData.m\_weightInclude.value\ *\ attackData.LoseCount;}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ weight\ /=\ distAttackPoint;}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ sumWeight\ +=\ weight;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ attackData.m\_lotteryWeight\ =\ weight;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_attack_lottery_data}{AttackLotteryData}}\ data;}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ rand\ =\ Random.Range(0.0f,\ sumWeight);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ useData.value.LotteryData.value.Count;\ ++i)}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ data\ =\ useData.value.LotteryData.value[i];}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ data.\mbox{\hyperlink{class_attack_lottery_data_adb0c1548560c32ad95061ff556e56a73}{LoseCount}}++;}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (rand\ >=\ 0.0f\ \&\&\ rand\ <\ data.\mbox{\hyperlink{class_attack_lottery_data_a6f3f26b8f45307c05200bb5c9c924a2a}{m\_lotteryWeight}})}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4}{\_Output}}.SetValue(i\ +\ 1);}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.LoseCount\ =\ 0;}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ rand\ -\/=\ data.\mbox{\hyperlink{class_attack_lottery_data_a6f3f26b8f45307c05200bb5c9c924a2a}{m\_lotteryWeight}};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ useData.value.LotteryData.value[i]\ =\ data;}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00100\ \ \ \ \ \}}

\end{DoxyCode}
被呼び出し関係図\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d3a/class_lottery_table_abb6d20b6185d50f0a52fa240b01360a8_icgraph}
\end{center}
\end{figure}


\doxysubsection{フィールド詳解}
\Hypertarget{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4}\index{LotteryTable@{LotteryTable}!\_Output@{\_Output}}
\index{\_Output@{\_Output}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_Output}{\_Output}}
{\footnotesize\ttfamily \label{class_lottery_table_ae83e682ad886b143d8f75e3edface4c4} 
Output\+Slot\+Int Lottery\+Table.\+\_\+\+Output = new()\hspace{0.3cm}{\ttfamily [private]}}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00019}{19}} 行目に定義があります。

\Hypertarget{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784}\index{LotteryTable@{LotteryTable}!\_UseAttackData@{\_UseAttackData}}
\index{\_UseAttackData@{\_UseAttackData}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_UseAttackData}{\_UseAttackData}}
{\footnotesize\ttfamily \label{class_lottery_table_a57f1f0ce01c71e95085907ff2c8a6784} 
\mbox{\hyperlink{class_output_slot_attack_data}{Output\+Slot\+Attack\+Data}} Lottery\+Table.\+\_\+\+Use\+Attack\+Data = new()\hspace{0.3cm}{\ttfamily [private]}}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00020}{20}} 行目に定義があります。

\Hypertarget{class_lottery_table_ab10e56a6af8592a6bc79121e18f41e43}\index{LotteryTable@{LotteryTable}!\_targetTrans@{\_targetTrans}}
\index{\_targetTrans@{\_targetTrans}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_targetTrans}{\_targetTrans}}
{\footnotesize\ttfamily \label{class_lottery_table_ab10e56a6af8592a6bc79121e18f41e43} 
Flexible\+Transform Lottery\+Table.\+\_\+target\+Trans = new()}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00022}{22}} 行目に定義があります。

\Hypertarget{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99}\index{LotteryTable@{LotteryTable}!\_firstAttackData@{\_firstAttackData}}
\index{\_firstAttackData@{\_firstAttackData}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_firstAttackData}{\_firstAttackData}}
{\footnotesize\ttfamily \label{class_lottery_table_accca89b97fb3e6c9db652ab9d0044c99} 
\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}} Lottery\+Table.\+\_\+first\+Attack\+Data = new()}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00023}{23}} 行目に定義があります。

\Hypertarget{class_lottery_table_a372ece3876a387d49b1a9dd6d7fb6747}\index{LotteryTable@{LotteryTable}!\_secondAttackData@{\_secondAttackData}}
\index{\_secondAttackData@{\_secondAttackData}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_secondAttackData}{\_secondAttackData}}
{\footnotesize\ttfamily \label{class_lottery_table_a372ece3876a387d49b1a9dd6d7fb6747} 
\mbox{\hyperlink{class_flexible_attack_data}{Flexible\+Attack\+Data}} Lottery\+Table.\+\_\+second\+Attack\+Data = new()}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00024}{24}} 行目に定義があります。

\Hypertarget{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe}\index{LotteryTable@{LotteryTable}!\_characterCore@{\_characterCore}}
\index{\_characterCore@{\_characterCore}!LotteryTable@{LotteryTable}}
\doxysubsubsection{\texorpdfstring{\_characterCore}{\_characterCore}}
{\footnotesize\ttfamily \label{class_lottery_table_a688b505fae6ad0cb69e64061fc76febe} 
\mbox{\hyperlink{class_character_core}{Character\+Core}} Lottery\+Table.\+\_\+character\+Core\hspace{0.3cm}{\ttfamily [private]}}



 \mbox{\hyperlink{_lottery_table_8cs_source}{Lottery\+Table.\+cs}} の \mbox{\hyperlink{_lottery_table_8cs_source_l00026}{26}} 行目に定義があります。



このクラス詳解は次のファイルから抽出されました\+:\begin{DoxyCompactItemize}
\item 
Project\+C/004\+\_\+\+Character/\+Enemy/\+Common\+State/\+FSMScripts/\+Calculator/\mbox{\hyperlink{_lottery_table_8cs}{Lottery\+Table.\+cs}}\end{DoxyCompactItemize}
