<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.12.0" xml:lang="ja">
  <compounddef id="_diffusion_renderer_feature_8cs" kind="file" language="C#">
    <compoundname>DiffusionRendererFeature.cs</compoundname>
    <innerclass refid="class_diffusion_renderer_feature" prot="public">DiffusionRendererFeature</innerclass>
    <innerclass refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass" prot="public">DiffusionRendererFeature::DiffusionRenderePass</innerclass>
    <sectiondef kind="var">
      <memberdef kind="variable" id="_diffusion_renderer_feature_8cs_1a180a2d51a2d06bd1b9876828fbb52e7a" prot="public" static="no" mutable="no">
        <type>Shader</type>
        <definition>Shader _shader</definition>
        <argsstring></argsstring>
        <name>_shader</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="195" column="13" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="195" bodyend="-1"/>
        <referencedby refid="_diffusion_renderer_feature_8cs_1af96cf8d5fa174da4b69828a91e057d78" compoundref="_diffusion_renderer_feature_8cs" startline="200" endline="204">Create</referencedby>
      </memberdef>
      <memberdef kind="variable" id="_diffusion_renderer_feature_8cs_1a3ff5a4fa8ddc3d026dcbb797b1dd5256" prot="public" static="no" mutable="no">
        <type>RenderPassEvent</type>
        <definition>RenderPassEvent _passEvent</definition>
        <argsstring></argsstring>
        <name>_passEvent</name>
        <initializer>= RenderPassEvent.AfterRenderingPostProcessing</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="196" column="22" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="196" bodyend="-1"/>
        <referencedby refid="_diffusion_renderer_feature_8cs_1a89ab3a21cafeac1999132b1fa8a18bad" compoundref="_diffusion_renderer_feature_8cs" startline="217" endline="220">SetupRenderPasses</referencedby>
      </memberdef>
      <memberdef kind="variable" id="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" prot="public" static="no" mutable="no">
        <type>DiffusionRenderePass</type>
        <definition>DiffusionRenderePass _pass</definition>
        <argsstring></argsstring>
        <name>_pass</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="198" column="26" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="198" bodyend="-1"/>
        <referencedby refid="_diffusion_renderer_feature_8cs_1a684261fe0dc774569f1b038bdd5b552d" compoundref="_diffusion_renderer_feature_8cs" startline="211" endline="215">AddRenderPasses</referencedby>
        <referencedby refid="_diffusion_renderer_feature_8cs_1af96cf8d5fa174da4b69828a91e057d78" compoundref="_diffusion_renderer_feature_8cs" startline="200" endline="204">Create</referencedby>
        <referencedby refid="_diffusion_renderer_feature_8cs_1a89ab3a21cafeac1999132b1fa8a18bad" compoundref="_diffusion_renderer_feature_8cs" startline="217" endline="220">SetupRenderPasses</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="_diffusion_renderer_feature_8cs_1af96cf8d5fa174da4b69828a91e057d78" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>override void</type>
        <definition>override void Create</definition>
        <argsstring>()</argsstring>
        <name>Create</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="200" column="26" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="200" bodyend="204"/>
        <references refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" compoundref="_diffusion_renderer_feature_8cs" startline="198">_pass</references>
        <references refid="_diffusion_renderer_feature_8cs_1a180a2d51a2d06bd1b9876828fbb52e7a" compoundref="_diffusion_renderer_feature_8cs" startline="195">_shader</references>
      </memberdef>
      <memberdef kind="function" id="_diffusion_renderer_feature_8cs_1a684261fe0dc774569f1b038bdd5b552d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>override void</type>
        <definition>override void AddRenderPasses</definition>
        <argsstring>(ScriptableRenderer renderer, ref RenderingData renderingData)</argsstring>
        <name>AddRenderPasses</name>
        <param>
          <type>ScriptableRenderer</type>
          <declname>renderer</declname>
        </param>
        <param>
          <type>ref RenderingData</type>
          <declname>renderingData</declname>
        </param>
        <briefdescription>
<para>パスを追加される必要がある時に実行される </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>renderer</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>renderingData</parametername>
</parameternamelist>
<parameterdescription>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="211" column="26" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="211" bodyend="215"/>
        <references refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" compoundref="_diffusion_renderer_feature_8cs" startline="198">_pass</references>
      </memberdef>
      <memberdef kind="function" id="_diffusion_renderer_feature_8cs_1a89ab3a21cafeac1999132b1fa8a18bad" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>override void</type>
        <definition>override void SetupRenderPasses</definition>
        <argsstring>(ScriptableRenderer renderer, in RenderingData renderingData)</argsstring>
        <name>SetupRenderPasses</name>
        <param>
          <type>ScriptableRenderer</type>
          <declname>renderer</declname>
        </param>
        <param>
          <type>in RenderingData</type>
          <declname>renderingData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" line="217" column="26" bodyfile="009_PostProcess/Diffusion/DiffusionRendererFeature.cs" bodystart="217" bodyend="220"/>
        <references refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" compoundref="_diffusion_renderer_feature_8cs" startline="198">_pass</references>
        <references refid="_diffusion_renderer_feature_8cs_1a3ff5a4fa8ddc3d026dcbb797b1dd5256" compoundref="_diffusion_renderer_feature_8cs" startline="196">_passEvent</references>
        <references refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a39c0274e3c133c2c56766104acaf547e" compoundref="_diffusion_renderer_feature_8cs" startline="37" endline="40">DiffusionRendererFeature.DiffusionRenderePass.Setup</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.Collections;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.Collections.Generic;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.Runtime.InteropServices.WindowsRuntime;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEngine;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEngine.Rendering;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEngine.Rendering.Universal;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal">[System.Serializable]</highlight></codeline>
<codeline lineno="9" refid="class_diffusion_renderer_feature" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_diffusion_renderer_feature" kindref="compound">DiffusionRendererFeature</ref><sp/>:<sp/>ScriptableRendererFeature</highlight></codeline>
<codeline lineno="10"><highlight class="normal">{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass" kindref="compound">DiffusionRenderePass</ref><sp/>:<sp/>ScriptableRenderPass</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="14" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Material<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>;</highlight></codeline>
<codeline lineno="15" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Material<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref>;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" kindref="member">Passes</ref></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12ea8b52de510bc5497ac43abfe566be48ab" kindref="member">Blur</ref>,</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12eac4239a4acc1c014a273971d89291dcf5" kindref="member">BlendScreen</ref>,</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12ea110c10d5c54174560b8baac001be3e45" kindref="member">ComparisonBright</ref>,</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12eadbfd9353d16fe7e7974401a0bab4f49a" kindref="member">SelfMultiply</ref>,</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a8df4f0145bf8d0a293e4313c68ca96c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a8df4f0145bf8d0a293e4313c68ca96c1" kindref="member">_sampleCount</ref>;</highlight></codeline>
<codeline lineno="28" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ac6fa81e2597a85a8202a674bca5a5481" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ac6fa81e2597a85a8202a674bca5a5481" kindref="member">_strength</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a63a3552dcb60572b8cb24315ff895e3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a63a3552dcb60572b8cb24315ff895e3e" kindref="member">DiffusionRenderePass</ref>(Shader<sp/>shader)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//シェーダーからマテリアルの作成</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref><sp/>=<sp/>CoreUtils.CreateEngineMaterial(shader);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref><sp/>=<sp/>CoreUtils.CreateEngineMaterial(shader);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a39c0274e3c133c2c56766104acaf547e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a39c0274e3c133c2c56766104acaf547e" kindref="member">Setup</ref>(RenderPassEvent<sp/>_renderPass)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderPassEvent<sp/>=<sp/>_renderPass;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Execute(ScriptableRenderContext<sp/>context,<sp/>ref<sp/>RenderingData<sp/>renderingData)</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref><sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Volumeを取得</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>volumeStack<sp/>=<sp/>VolumeManager.instance.stack;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>volum<sp/>=<sp/>volumeStack.GetComponent&lt;<ref refid="class_diffusion_post_process_volume" kindref="compound">DiffusionPostProcessVolume</ref>&gt;();</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(volum.Strength.value<sp/>&lt;=<sp/>0.0f)<sp/>return;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//コマンドリスト取得(コマンドリストをレンタルする)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>cmd<sp/>=<sp/>CommandBufferPool.Get(</highlight><highlight class="stringliteral">&quot;Diffusion<sp/>Post<sp/>Prosess&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//中身一応クリア</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Clear();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//----------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//レンダーターゲット取得</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//---------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//現在のRTの情報を取得</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>tempTargetDescriptor<sp/>=<sp/>renderingData.cameraData.cameraTargetDescriptor;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempTargetDescriptor.depthBufferBits<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//ソース画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tempRTID<sp/>=<sp/>Shader.PropertyToID(</highlight><highlight class="stringliteral">&quot;_TempRT&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.GetTemporaryRT(tempRTID,<sp/>tempTargetDescriptor);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//乗算用画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tempMultiplyRTID<sp/>=<sp/>Shader.PropertyToID(</highlight><highlight class="stringliteral">&quot;_TempMultiplyRT&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.GetTemporaryRT(tempMultiplyRTID,<sp/>tempTargetDescriptor);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//比較(明)した後の結果</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tempComparisonRTID<sp/>=<sp/>Shader.PropertyToID(</highlight><highlight class="stringliteral">&quot;_TempComporisonRT&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.GetTemporaryRT(tempComparisonRTID,<sp/>tempTargetDescriptor);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//ブラー用画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullW<sp/>=<sp/>renderingData.cameraData.camera.scaledPixelWidth;</highlight><highlight class="comment">//RTの幅</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fullH<sp/>=<sp/>renderingData.cameraData.camera.scaledPixelHeight;</highlight><highlight class="comment">//RTの高さ</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tempBlurXRTID<sp/>=<sp/>Shader.PropertyToID(</highlight><highlight class="stringliteral">&quot;_TempBlurXRT&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tempBlurYRTID<sp/>=<sp/>Shader.PropertyToID(</highlight><highlight class="stringliteral">&quot;_TempBlurYRT&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.GetTemporaryRT(tempBlurXRTID,<sp/>fullW<sp/>/<sp/>2,<sp/>fullH<sp/>/<sp/>2,<sp/>0,</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterMode.Bilinear,<sp/>RenderTextureFormat.ARGB32);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.GetTemporaryRT(tempBlurYRTID,<sp/>fullW<sp/>/<sp/>2,<sp/>fullH<sp/>/<sp/>2,<sp/>0,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FilterMode.Bilinear,<sp/>RenderTextureFormat.ARGB32);</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//============================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//①現在の画面をRTへコピー</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//===========================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//RTにカメラ画像をコピー</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderingData.cameraData.renderer.cameraColorTargetHandle,</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempRTID);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//======================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//②乗算画像作成</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//======================================================================<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//_material.SetInt(&quot;_SampleCount&quot;,<sp/>volum.SampleCount.value);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//_material.SetFloat(&quot;_Strength&quot;,<sp/>volum.Strength.value);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//描画(乗算)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a396fd56142d08723f98168c1ef81fc89" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempRTID,</highlight><highlight class="comment">//描画元画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempMultiplyRTID,</highlight><highlight class="comment">//描画先画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//renderingData.cameraData.renderer.cameraColorTargetHandle,//描画先画像</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>,<sp/>(int)Passes.SelfMultiply<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//描画するシェーダー(番号)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=====================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//③乗算画像にブラーをかける</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//====================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//縮小バッファへコピー</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a70bd1f82a112d940989ed2e2c24e4ffd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit(tempMultiplyRTID,<sp/>tempBlurYRTID);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Xブラー</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a1c8aebf27c54101685828659defda01f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>.SetFloat(</highlight><highlight class="stringliteral">&quot;_Dispersion&quot;</highlight><highlight class="normal">,<sp/>volum.GaussDispersion.value);</highlight></codeline>
<codeline lineno="132" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a61ba35b66f47deeaa17e7869d6164aec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>.SetInt(</highlight><highlight class="stringliteral">&quot;_SmaplingTexelAmount&quot;</highlight><highlight class="normal">,<sp/>volum.GaussSmaplingTexelAmount.value);</highlight><highlight class="comment">//奇数にする</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1afe8244d475b2d68d6ae480e4239ca2e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>.SetVector(</highlight><highlight class="stringliteral">&quot;_Direction&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector4(1.0f<sp/>/<sp/>(fullW<sp/>/<sp/>2),<sp/>0,<sp/>0,<sp/>0));</highlight></codeline>
<codeline lineno="134" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a9971734832251837fa7c6c3b251f0c86" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit(tempBlurYRTID,<sp/>tempBlurXRTID,<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" kindref="member">Passes</ref>.Blur);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//コマンドバッファをGPUに転送</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ae22199567de77386360bbeaecc24ece4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context.ExecuteCommandBuffer(cmd);</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Yブラー</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a0a850bd49be653b67c400200f3edcc45" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref>.SetFloat(</highlight><highlight class="stringliteral">&quot;_Dispersion&quot;</highlight><highlight class="normal">,<sp/>volum.GaussDispersion.value);</highlight></codeline>
<codeline lineno="141" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a3b61321b8e426845f779dad236f859bf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref>.SetInt(</highlight><highlight class="stringliteral">&quot;_SmaplingTexelAmount&quot;</highlight><highlight class="normal">,<sp/>volum.GaussSmaplingTexelAmount.value);</highlight><highlight class="comment">//奇数にする</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a43fe550b4e786f08209fe8e45949419e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref>.SetVector(</highlight><highlight class="stringliteral">&quot;_Direction&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector4(0.0f,<sp/>1.0f<sp/>/<sp/>(fullH<sp/>/<sp/>2),<sp/>0,<sp/>0));</highlight></codeline>
<codeline lineno="143" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a17927c2c750f25516064133a82cdb77b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit(tempBlurXRTID,<sp/>tempBlurYRTID,<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab3b5359e36d71dedb297b9c9e1a153ad" kindref="member">_material2</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" kindref="member">Passes</ref>.Blur);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//cmd.Blit(tempBlurYRTID,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>renderingData.cameraData.renderer.cameraColorTargetHandle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//④比較明</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//テクスチャをセット</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab6047256a9e4e1c5a6d93b4e1be2dff9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.SetGlobalTexture(</highlight><highlight class="stringliteral">&quot;_BackTex&quot;</highlight><highlight class="normal">,<sp/>tempBlurYRTID);</highlight></codeline>
<codeline lineno="156" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a9bceee8918a2cc32a98d9a4f1a43bb5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit(tempRTID,<sp/>tempComparisonRTID,<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" kindref="member">Passes</ref>.ComparisonBright);</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//テスト</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//cmd.Blit(tempComparisonRTID,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>renderingData.cameraData.renderer.cameraColorTargetHandle</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/>);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//=================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//⑤スクリーン合成</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//================================================================</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a3988fdb52ccaf73d4f9ce8ad1f0edfb1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>.SetFloat(</highlight><highlight class="stringliteral">&quot;_Blend&quot;</highlight><highlight class="normal">,<sp/>volum.ScreenBlend.value);</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//テクスチャをセット</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ad041554afa1610d539374a595fbbbe96" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.SetGlobalTexture(</highlight><highlight class="stringliteral">&quot;_BackTex&quot;</highlight><highlight class="normal">,<sp/>tempComparisonRTID);</highlight></codeline>
<codeline lineno="170" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a2acc19b7b0d30e37bb1d6066fa584066" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.Blit(tempMultiplyRTID,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderingData.cameraData.renderer.cameraColorTargetHandle</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>,<sp/><ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a53711a3b415e6f2d83c00abe6e7818e5" kindref="member">_material</ref>,<sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">)<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acb2a65e5295990d91d3a9e007ac4d12e" kindref="member">Passes</ref>.ComparisonBright);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//-------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//RT解放</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ae35bdf7d10ca6c554f11f25a40dbaace" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.ReleaseTemporaryRT(tempRTID);</highlight></codeline>
<codeline lineno="180" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a2ac8422e4af3143e0a7e3294ebf2f460" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.ReleaseTemporaryRT(tempMultiplyRTID);</highlight></codeline>
<codeline lineno="181" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ab1a898cc8ada79b2133a2ad2b1631c29" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.ReleaseTemporaryRT(tempComparisonRTID);</highlight></codeline>
<codeline lineno="182" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1acc4bcba1fb8d32c09cb6dc5a198e0f72" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.ReleaseTemporaryRT(tempBlurXRTID);</highlight></codeline>
<codeline lineno="183" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a34977c28f3a907733fabfd92ca15fa1f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd.ReleaseTemporaryRT(tempBlurYRTID);</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//コマンドバッファをGPUに転送</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1ae22199567de77386360bbeaecc24ece4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context.ExecuteCommandBuffer(cmd);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//返却</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189" refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a9f531e433d6c174636e8a38802837a08" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CommandBufferPool.Release(cmd);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195" refid="_diffusion_renderer_feature_8cs_1a180a2d51a2d06bd1b9876828fbb52e7a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>Shader<sp/><ref refid="_diffusion_renderer_feature_8cs_1a180a2d51a2d06bd1b9876828fbb52e7a" kindref="member">_shader</ref>;</highlight></codeline>
<codeline lineno="196" refid="_diffusion_renderer_feature_8cs_1a3ff5a4fa8ddc3d026dcbb797b1dd5256" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>[SerializeField]<sp/>RenderPassEvent<sp/><ref refid="_diffusion_renderer_feature_8cs_1a3ff5a4fa8ddc3d026dcbb797b1dd5256" kindref="member">_passEvent</ref><sp/>=<sp/>RenderPassEvent.AfterRenderingPostProcessing;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>DiffusionRenderePass<sp/><ref refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" kindref="member">_pass</ref>;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200" refid="_diffusion_renderer_feature_8cs_1af96cf8d5fa174da4b69828a91e057d78" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_diffusion_renderer_feature_8cs_1af96cf8d5fa174da4b69828a91e057d78" kindref="member">Create</ref>()</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//作成は必ずCreateに作る</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" kindref="member">_pass</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>DiffusionRenderePass(<ref refid="_diffusion_renderer_feature_8cs_1a180a2d51a2d06bd1b9876828fbb52e7a" kindref="member">_shader</ref>);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="211" refid="_diffusion_renderer_feature_8cs_1a684261fe0dc774569f1b038bdd5b552d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_diffusion_renderer_feature_8cs_1a684261fe0dc774569f1b038bdd5b552d" kindref="member">AddRenderPasses</ref>(ScriptableRenderer<sp/>renderer,<sp/>ref<sp/>RenderingData<sp/>renderingData)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//描画として動かせるようになった</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>renderer.EnqueuePass(<ref refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" kindref="member">_pass</ref>);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217" refid="_diffusion_renderer_feature_8cs_1a89ab3a21cafeac1999132b1fa8a18bad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">override</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_diffusion_renderer_feature_8cs_1a89ab3a21cafeac1999132b1fa8a18bad" kindref="member">SetupRenderPasses</ref>(ScriptableRenderer<sp/>renderer,<sp/>in<sp/>RenderingData<sp/>renderingData)</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="_diffusion_renderer_feature_8cs_1af90d186ad7aa2e9ac30f1d826c9735ff" kindref="member">_pass</ref>.<ref refid="class_diffusion_renderer_feature_1_1_diffusion_rendere_pass_1a39c0274e3c133c2c56766104acaf547e" kindref="member">Setup</ref>(<ref refid="_diffusion_renderer_feature_8cs_1a3ff5a4fa8ddc3d026dcbb797b1dd5256" kindref="member">_passEvent</ref>);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="009_PostProcess/Diffusion/DiffusionRendererFeature.cs"/>
  </compounddef>
</doxygen>
